CREATE TABLE usuario (
    ID_USUARIO INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR(100) NOT NULL,
    SOBRENOME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    SENHA VARCHAR(100) NOT NULL
);

CREATE TABLE despesas (
    ID_DESPESA INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_USUARIO INTEGER,
    VALOR NUMERIC(15, 2) NOT NULL,
    DATA DATE NOT NULL,
    FONTE VARCHAR(100),
    CONSTRAINT fk_despesas_usuario FOREIGN KEY (ID_USUARIO) REFERENCES usuario (ID_USUARIO)
);

CREATE TABLE receitas (
    ID_RECEITA INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_USUARIO INTEGER,
    VALOR NUMERIC(15, 2) NOT NULL,
    DATA DATE NOT NULL,
    FONTE VARCHAR(100),
    CONSTRAINT fk_receitas_usuario FOREIGN KEY (ID_USUARIO) REFERENCES usuario (ID_USUARIO)
);

DROP TABLE RECEITAS;
DROP TABLE DESPESAS;
DROP TABLE USUARIO;

SELECT 1 FROM receitas WHERE valor = ? AND ? < 0


SELECT * FROM DESPESAS d WHERE EXTRACT(MONTH FROM d.DATA) = ? AND extract(YEAR FROM d.DATA) = ?